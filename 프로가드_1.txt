https://iw90.tistory.com/298
https://black-jin0427.tistory.com/89

Proguard 

// 프로가드가 없다면 
- 프로젝트 코드가 난독화가 되지 않아 디버그 시 코드 노출 우려 
- 불필요한 코드가 앱 컴파일시 포함 되어 불필요하게 앱의 용량(비용) 증가
- 불필요한 코다가 컴파일 포함되기 때문에 개발시 메서드 65536 개 초과로 멀티덱스 사용하게됨

// 프로가드의 장점
- 프로젝트 코드 난독화 (디컴파일시 난독화 되어 코드읽기 어려움)
- 프로젝트에서 사용하지 않는 메서드 제거 
- 불필요한 메서드 제거로 인해 멀티덱스 사용하지 않을 수 있음 

// proguard의 불편한점
- 난독화가 진행 되어 프로젝트 클래스 이름, 라인 넘버가 제거되어 디버그가 어려움
- 다른 라이브러리 추가 후 난독화 시 warning 발생 


// 설정

1. App - build.gradle 
buildTypes { releas { } }

2. buildTypes 를 release 와 debug 로 나누어준다. 
 buildTypes {
        debug {
            //프로가드 활성화
            minifyEnabled true
            //기본 프로가드 설정
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
        release {
            // 프로가드 활성화
            minifyEnabled true
            //기본 프로가드 설정
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }

3. 프로가드 활성화 및 debug.pro 추가 
           //디버그에 필요한 프로가드 설정 
            proguardFile 'proguard-debug.pro'


*전체 적용된 코드로 빌드타입을 위와 같이 적용해 준다. 
minifyEnabled 값을 true 로 바꿔 주면 프로가드가 적용된다. 
디버그시 proguard-debug.pro 를 추가해 줌으로써 난독화 및 라인 지워지는 것을 예외처리한다. 

4. proguard-debug.pro
# Begin: Debug Proguard rules
-dontobfuscate                              #난독화를 수행하지 않도록 함
-keepattributes SoureFile,LineNumberTable   #소스파일, 라인 정보 유지
# End: Debug ProGuard rules

5. 문제점
- 다른 라이브러리 추가후 난독화 시 warning 이 발생 

명령어
dontobfuscate : 난독화를 수행 하지 않도록 함
keepattributes : 소스파일 , 라인 정보 유지
등과같이 프로가드 내부 옵션을 설정해야 한다.

- 라이브러리 마다 Proguard Rule 이 있으니 라이브러리 추가시 문제가 될때
구글링 후 적용하면 된다. 


6. 적용결과 확인
프로가드를 적용한 apk와 아닌 apk 비교 
build -> analyze apk 
build - > outputs -> apk - > debug - > app-debug.apk

-- ** 

7. 디컴파일확인 

-- ** 


